pipeline {
    agent any

    stages {
        stage('Deploy SQL to Oracle') {
            steps {
                script {
                    def oracleHost = '5.tcp.eu.ngrok.io'  // Updated ngrok URL
                    def oraclePort = '10995'  // Updated ngrok port
                    def oracleServiceName = 'ORCL'
                    def oracleUsername = 'SYS'
                    def oraclePassword = 'Oracle21c'
                    def scriptPath = 'F:\\PROJET SGBDA\\SGBD\\SGBD_sql.sql'  // Updated path to SQL file

                    bat "sqlplus ${oracleUsername}/${oraclePassword}@//${oracleHost}:${oraclePort}/${oracleServiceName} @${scriptPath}"
                }
            }
        }
    }
}
